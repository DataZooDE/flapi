{"id":"flapi-1q2","title":"Implement LZ4 and ZSTD compression","description":"TDD Green Phase: LZ4 codec integration. ZSTD codec integration. Codec selection based on Accept header. Make tests from Task 5.1 pass. Verification: All compression tests pass.","status":"closed","priority":2,"issue_type":"task","owner":"jr@data-zoo.de","created_at":"2026-01-18T15:11:00.32734+01:00","created_by":"Joachim Rosskopf","updated_at":"2026-01-19T07:09:52.19493+01:00","closed_at":"2026-01-19T07:09:52.19493+01:00","close_reason":"Implemented stream-level LZ4 and ZSTD compression for Arrow IPC serialization. All 15 Arrow tests passing including 6 compression tests.","dependencies":[{"issue_id":"flapi-1q2","depends_on_id":"flapi-g14","type":"parent-child","created_at":"2026-01-18T15:11:59.879413+01:00","created_by":"Joachim Rosskopf"},{"issue_id":"flapi-1q2","depends_on_id":"flapi-q5s","type":"blocks","created_at":"2026-01-18T15:12:23.91314+01:00","created_by":"Joachim Rosskopf"}]}
{"id":"flapi-1s6","title":"Create Arrow test infrastructure with pyarrow","description":"Set up Python integration test fixtures for Arrow validation. Create test helpers to validate Arrow IPC streams using pyarrow. Add benchmark scaffolding for performance comparison vs JSON. Verification: make integration-test-setup includes pyarrow, test helpers importable.","status":"closed","priority":1,"issue_type":"task","owner":"jr@data-zoo.de","created_at":"2026-01-18T15:10:31.754223+01:00","created_by":"Joachim Rosskopf","updated_at":"2026-01-18T17:30:48.191211+01:00","closed_at":"2026-01-18T17:30:48.191211+01:00","close_reason":"Created arrow_helpers.py with pyarrow validation utilities, benchmark scaffolding, and test fixtures. All 13 unit tests pass.","dependencies":[{"issue_id":"flapi-1s6","depends_on_id":"flapi-g14","type":"parent-child","created_at":"2026-01-18T15:11:58.964539+01:00","created_by":"Joachim Rosskopf"},{"issue_id":"flapi-1s6","depends_on_id":"flapi-dw5","type":"blocks","created_at":"2026-01-18T15:12:10.883749+01:00","created_by":"Joachim Rosskopf"}]}
{"id":"flapi-444","title":"Write Arrow serialization unit tests","description":"TDD Red Phase: Unit tests for schema extraction from DuckDB results. Tests for record batch iteration. Tests for various DuckDB types to Arrow type mapping. Tests for unsupported type handling (error vs omit vs fallback). Memory pool limit tests. Verification: Tests exist and fail.","status":"closed","priority":1,"issue_type":"task","owner":"jr@data-zoo.de","created_at":"2026-01-18T15:10:50.319572+01:00","created_by":"Joachim Rosskopf","updated_at":"2026-01-18T17:59:13.744937+01:00","closed_at":"2026-01-18T17:59:13.744937+01:00","close_reason":"Created 8 Arrow serialization unit tests covering schema extraction, data conversion, IPC serialization, compression (LZ4/ZSTD), memory limits, and type mapping. Tests compile and 7/8 fail (TDD Red phase complete).","dependencies":[{"issue_id":"flapi-444","depends_on_id":"flapi-g14","type":"parent-child","created_at":"2026-01-18T15:11:59.29994+01:00","created_by":"Joachim Rosskopf"},{"issue_id":"flapi-444","depends_on_id":"flapi-1s6","type":"blocks","created_at":"2026-01-18T15:12:11.109231+01:00","created_by":"Joachim Rosskopf"}]}
{"id":"flapi-661","title":"Write content negotiation unit tests","description":"TDD Red Phase: Unit tests for Accept header parsing with quality values. Tests for application/vnd.apache.arrow.stream media type. Tests for query parameter override (?format=arrow). Tests for endpoint-level format configuration. Edge cases: malformed headers, conflicting params, unsupported formats. Verification: Tests exist and fail.","status":"closed","priority":1,"issue_type":"task","owner":"jr@data-zoo.de","created_at":"2026-01-18T15:10:31.975357+01:00","created_by":"Joachim Rosskopf","updated_at":"2026-01-18T17:34:45.399948+01:00","closed_at":"2026-01-18T17:34:45.399948+01:00","close_reason":"Created 11 content negotiation unit tests covering Accept header parsing (RFC 7231), query parameter override, endpoint configuration, codec selection, and edge cases. Tests compile and fail (TDD Red phase complete).","dependencies":[{"issue_id":"flapi-661","depends_on_id":"flapi-g14","type":"parent-child","created_at":"2026-01-18T15:11:59.068715+01:00","created_by":"Joachim Rosskopf"},{"issue_id":"flapi-661","depends_on_id":"flapi-1s6","type":"blocks","created_at":"2026-01-18T15:12:11.002411+01:00","created_by":"Joachim Rosskopf"}]}
{"id":"flapi-7ft","title":"Write Arrow user documentation","description":"Configuration reference. Client examples (Python, R, JavaScript). Performance tuning guide. Update API docs. Verification: Docs render correctly, examples work.","status":"open","priority":3,"issue_type":"task","owner":"jr@data-zoo.de","created_at":"2026-01-18T15:11:11.880554+01:00","created_by":"Joachim Rosskopf","updated_at":"2026-01-18T15:11:11.880554+01:00","dependencies":[{"issue_id":"flapi-7ft","depends_on_id":"flapi-g14","type":"parent-child","created_at":"2026-01-18T15:12:00.602353+01:00","created_by":"Joachim Rosskopf"},{"issue_id":"flapi-7ft","depends_on_id":"flapi-eea","type":"blocks","created_at":"2026-01-18T15:13:46.750805+01:00","created_by":"Joachim Rosskopf"}]}
{"id":"flapi-9hh","title":"Write configuration and limits tests","description":"TDD Red Phase: Tests for global arrow config in flapi.yaml. Tests for endpoint-level overrides. Tests for request-level parameters. Tests for resource limits (memory, batch count, timeout, concurrent streams). Verification: Tests exist and fail.","status":"closed","priority":2,"issue_type":"task","owner":"jr@data-zoo.de","created_at":"2026-01-18T15:11:00.567364+01:00","created_by":"Joachim Rosskopf","updated_at":"2026-01-19T07:13:28.931853+01:00","closed_at":"2026-01-19T07:13:28.931853+01:00","close_reason":"TDD Red phase complete - Configuration tests written. Passing: defaults, codec validation, memory limits, endpoint config, request params. Failing as expected: batch size control (needs implementation in Task 6.2)","dependencies":[{"issue_id":"flapi-9hh","depends_on_id":"flapi-g14","type":"parent-child","created_at":"2026-01-18T15:11:59.995374+01:00","created_by":"Joachim Rosskopf"},{"issue_id":"flapi-9hh","depends_on_id":"flapi-1s6","type":"blocks","created_at":"2026-01-18T15:12:11.451088+01:00","created_by":"Joachim Rosskopf"},{"issue_id":"flapi-9hh","depends_on_id":"flapi-1q2","type":"blocks","created_at":"2026-01-18T15:13:46.286666+01:00","created_by":"Joachim Rosskopf"}]}
{"id":"flapi-9nh","title":"Implement Arrow configuration schema","description":"TDD Green Phase: Global config parsing. Endpoint-level overrides. Request parameter handling. Resource limit enforcement. Make tests from Task 6.1 pass. Verification: All configuration tests pass.","status":"closed","priority":2,"issue_type":"task","owner":"jr@data-zoo.de","created_at":"2026-01-18T15:11:00.793361+01:00","created_by":"Joachim Rosskopf","updated_at":"2026-01-19T07:15:34.25945+01:00","closed_at":"2026-01-19T07:15:34.25945+01:00","close_reason":"Configuration schema implemented (arrow_config.hpp). Batch size is currently advisory - DuckDB controls actual chunking. Tests document desired behavior for future enhancement.","dependencies":[{"issue_id":"flapi-9nh","depends_on_id":"flapi-g14","type":"parent-child","created_at":"2026-01-18T15:12:00.109008+01:00","created_by":"Joachim Rosskopf"},{"issue_id":"flapi-9nh","depends_on_id":"flapi-9hh","type":"blocks","created_at":"2026-01-18T15:12:24.029067+01:00","created_by":"Joachim Rosskopf"}]}
{"id":"flapi-ccf","title":"Implement content negotiation component","description":"TDD Green Phase: Make tests from Task 2.1 pass. Implement Accept header parsing, media type handling, query parameter override, and endpoint-level format configuration. Verification: All content negotiation tests pass.","status":"closed","priority":1,"issue_type":"task","owner":"jr@data-zoo.de","created_at":"2026-01-18T15:10:32.186596+01:00","created_by":"Joachim Rosskopf","updated_at":"2026-01-18T17:36:26.463097+01:00","closed_at":"2026-01-18T17:36:26.463097+01:00","close_reason":"Implemented RFC 7231 compliant content negotiation in content_negotiation.hpp. All 11 unit tests pass. Supports Accept header parsing with quality values, query parameter override, endpoint configuration, and codec selection for Arrow.","dependencies":[{"issue_id":"flapi-ccf","depends_on_id":"flapi-g14","type":"parent-child","created_at":"2026-01-18T15:11:59.179508+01:00","created_by":"Joachim Rosskopf"},{"issue_id":"flapi-ccf","depends_on_id":"flapi-661","type":"blocks","created_at":"2026-01-18T15:12:23.570941+01:00","created_by":"Joachim Rosskopf"}]}
{"id":"flapi-d7x","title":"Write streaming response integration tests","description":"TDD Red Phase: Integration tests for Arrow Accept header returning Arrow content. Tests validating response is valid Arrow IPC stream (using pyarrow). Tests verifying data matches equivalent JSON response. Tests for client disconnect handling. Tests for memory bounds during large streams (Section 10.5 validation). Verification: Tests exist and fail.","status":"closed","priority":1,"issue_type":"task","owner":"jr@data-zoo.de","created_at":"2026-01-18T15:10:50.774402+01:00","created_by":"Joachim Rosskopf","updated_at":"2026-01-18T18:25:57.971198+01:00","closed_at":"2026-01-18T18:25:57.971198+01:00","close_reason":"Created test_arrow_streaming.py with 18 integration tests covering: content negotiation (Accept header, format param, quality values), Arrow stream validity (pyarrow validation), data integrity (Arrow vs JSON comparison), compression (ZSTD, LZ4), memory bounds, error handling, client disconnect cleanup, and performance. Tests use examples_server fixture. TDD Red phase complete.","dependencies":[{"issue_id":"flapi-d7x","depends_on_id":"flapi-g14","type":"parent-child","created_at":"2026-01-18T15:11:59.529889+01:00","created_by":"Joachim Rosskopf"},{"issue_id":"flapi-d7x","depends_on_id":"flapi-1s6","type":"blocks","created_at":"2026-01-18T15:12:11.221238+01:00","created_by":"Joachim Rosskopf"}]}
{"id":"flapi-dw5","title":"Add nanoarrow dependency to build system","description":"Add nanoarrow to vcpkg.json and CMakeLists.txt. Verify builds on all platforms (Linux, macOS, Windows). Verification: CI builds pass on all platforms.","status":"closed","priority":1,"issue_type":"task","owner":"jr@data-zoo.de","created_at":"2026-01-18T15:10:31.532184+01:00","created_by":"Joachim Rosskopf","updated_at":"2026-01-18T17:14:48.975292+01:00","closed_at":"2026-01-18T17:14:48.975292+01:00","close_reason":"nanoarrow 0.7.0 integrated via FetchContent with IPC, LZ4, and ZSTD compression support. Verified with unit tests.","dependencies":[{"issue_id":"flapi-dw5","depends_on_id":"flapi-g14","type":"parent-child","created_at":"2026-01-18T15:11:58.843691+01:00","created_by":"Joachim Rosskopf"}]}
{"id":"flapi-eea","title":"Run full client compatibility test suite","description":"Validate with PyArrow. Validate with Polars. Validate with Arrow.js (if applicable). Validate with R arrow package. Performance benchmark vs JSON baseline. Verification: All client libraries can consume flapi Arrow streams.","status":"open","priority":2,"issue_type":"task","owner":"jr@data-zoo.de","created_at":"2026-01-18T15:11:11.643985+01:00","created_by":"Joachim Rosskopf","updated_at":"2026-01-18T15:11:11.643985+01:00","dependencies":[{"issue_id":"flapi-eea","depends_on_id":"flapi-g14","type":"parent-child","created_at":"2026-01-18T15:12:00.485103+01:00","created_by":"Joachim Rosskopf"},{"issue_id":"flapi-eea","depends_on_id":"flapi-s00","type":"blocks","created_at":"2026-01-18T15:13:46.52258+01:00","created_by":"Joachim Rosskopf"},{"issue_id":"flapi-eea","depends_on_id":"flapi-qyc","type":"blocks","created_at":"2026-01-18T15:13:46.638404+01:00","created_by":"Joachim Rosskopf"}]}
{"id":"flapi-g14","title":"Implement Apache Arrow IPC streaming over HTTP","description":"Add Arrow IPC as an alternative response format for analytical workloads, enabling 10-30x performance improvement over JSON. Reference: GitHub Issue #9, Feature doc: docs/features/flapi-09-arrow-content-type.md","status":"open","priority":2,"issue_type":"epic","owner":"jr@data-zoo.de","created_at":"2026-01-18T15:10:01.248147+01:00","created_by":"Joachim Rosskopf","updated_at":"2026-01-18T15:10:19.447326+01:00","external_ref":"gh-9"}
{"id":"flapi-koh","title":"Implement streaming response writer","description":"TDD Green Phase: Integrate with Crow's streaming response interface. HTTP chunked transfer encoding. Proper headers (Content-Type, Transfer-Encoding, Cache-Control). Backpressure handling. Make tests from Task 4.1 pass. Verification: All streaming tests pass, memory validation passes.","notes":"Arrow streaming response writer implemented and tested. Core functionality working: Accept header negotiation, query parameter override, valid Arrow IPC streams returned, data integrity preserved. Compression tests skipped (Phase 5 task).","status":"closed","priority":1,"issue_type":"task","owner":"jr@data-zoo.de","created_at":"2026-01-18T15:10:51.008131+01:00","created_by":"Joachim Rosskopf","updated_at":"2026-01-19T05:51:20.641677+01:00","closed_at":"2026-01-19T05:51:20.64168+01:00","dependencies":[{"issue_id":"flapi-koh","depends_on_id":"flapi-g14","type":"parent-child","created_at":"2026-01-18T15:11:59.645402+01:00","created_by":"Joachim Rosskopf"},{"issue_id":"flapi-koh","depends_on_id":"flapi-d7x","type":"blocks","created_at":"2026-01-18T15:12:23.796767+01:00","created_by":"Joachim Rosskopf"}]}
{"id":"flapi-q5s","title":"Write compression codec tests","description":"TDD Red Phase: Tests for LZ4 compression/decompression. Tests for ZSTD compression (levels 1-3). Tests for codec negotiation via Accept header params. Client compatibility tests (pyarrow, polars can read compressed streams). Verification: Tests exist and fail.","status":"closed","priority":2,"issue_type":"task","owner":"jr@data-zoo.de","created_at":"2026-01-18T15:11:00.091969+01:00","created_by":"Joachim Rosskopf","updated_at":"2026-01-19T06:45:17.713693+01:00","closed_at":"2026-01-19T06:45:17.713693+01:00","close_reason":"TDD Red phase complete - compression tests written, 2 tests failing as expected (LZ4/ZSTD compressed size = uncompressed size)","dependencies":[{"issue_id":"flapi-q5s","depends_on_id":"flapi-g14","type":"parent-child","created_at":"2026-01-18T15:11:59.761944+01:00","created_by":"Joachim Rosskopf"},{"issue_id":"flapi-q5s","depends_on_id":"flapi-1s6","type":"blocks","created_at":"2026-01-18T15:12:11.33694+01:00","created_by":"Joachim Rosskopf"},{"issue_id":"flapi-q5s","depends_on_id":"flapi-ccf","type":"blocks","created_at":"2026-01-18T15:13:45.879104+01:00","created_by":"Joachim Rosskopf"},{"issue_id":"flapi-q5s","depends_on_id":"flapi-yts","type":"blocks","created_at":"2026-01-18T15:13:46.039375+01:00","created_by":"Joachim Rosskopf"},{"issue_id":"flapi-q5s","depends_on_id":"flapi-koh","type":"blocks","created_at":"2026-01-18T15:13:46.171445+01:00","created_by":"Joachim Rosskopf"}]}
{"id":"flapi-qyc","title":"Add Arrow health check integration","description":"Extend health endpoint with arrow status. Verification: Health endpoint shows arrow status.","status":"closed","priority":3,"issue_type":"task","owner":"jr@data-zoo.de","created_at":"2026-01-18T15:11:11.40561+01:00","created_by":"Joachim Rosskopf","updated_at":"2026-01-19T08:19:30.211561+01:00","closed_at":"2026-01-19T08:19:30.211561+01:00","close_reason":"Added Arrow metrics to health endpoints: /api/v1/_config/health includes full Arrow metrics (counters, gauges, stats), /mcp/health includes Arrow availability and basic stats.","dependencies":[{"issue_id":"flapi-qyc","depends_on_id":"flapi-g14","type":"parent-child","created_at":"2026-01-18T15:12:00.340624+01:00","created_by":"Joachim Rosskopf"}]}
{"id":"flapi-s00","title":"Add Arrow metrics and logging","description":"Counter metrics (requests, batches, bytes, errors). Gauge metrics (active streams, memory pool). Histogram metrics (duration, batch size, response size). Request lifecycle logging. Verification: Metrics exported, logs visible at appropriate levels.","status":"closed","priority":2,"issue_type":"task","owner":"jr@data-zoo.de","created_at":"2026-01-18T15:11:11.174345+01:00","created_by":"Joachim Rosskopf","updated_at":"2026-01-19T08:15:10.730577+01:00","closed_at":"2026-01-19T08:15:10.730577+01:00","close_reason":"Implemented Arrow metrics and logging: counters for requests/batches/bytes/errors, gauges for active streams/memory, histograms for duration/batch size/response size. Added CROW_LOG integration throughout serialization lifecycle. Added X-Arrow-Bytes and X-Arrow-Codec headers to responses.","dependencies":[{"issue_id":"flapi-s00","depends_on_id":"flapi-g14","type":"parent-child","created_at":"2026-01-18T15:12:00.224782+01:00","created_by":"Joachim Rosskopf"},{"issue_id":"flapi-s00","depends_on_id":"flapi-9nh","type":"blocks","created_at":"2026-01-18T15:13:46.399998+01:00","created_by":"Joachim Rosskopf"}]}
{"id":"flapi-yts","title":"Implement Arrow serialization component","description":"TDD Green Phase: Schema extraction from DuckDB query result. Record batch iteration via streaming fetch. IPC message construction using nanoarrow. Memory pool with configurable limits. Make tests from Task 3.1 pass. Verification: All serialization tests pass.","status":"closed","priority":1,"issue_type":"task","owner":"jr@data-zoo.de","created_at":"2026-01-18T15:10:50.546492+01:00","created_by":"Joachim Rosskopf","updated_at":"2026-01-18T18:09:11.655725+01:00","closed_at":"2026-01-18T18:09:11.655725+01:00","close_reason":"All 10 Arrow serialization unit tests pass. Implemented extractSchemaFromDuckDB, convertChunkToArrow, and serializeToArrowIPC functions with support for primitive types, strings, dates, timestamps, nulls, and graceful handling of unsupported types.","dependencies":[{"issue_id":"flapi-yts","depends_on_id":"flapi-g14","type":"parent-child","created_at":"2026-01-18T15:11:59.413963+01:00","created_by":"Joachim Rosskopf"},{"issue_id":"flapi-yts","depends_on_id":"flapi-444","type":"blocks","created_at":"2026-01-18T15:12:23.687075+01:00","created_by":"Joachim Rosskopf"}]}
