# Minimal test configuration
project-name: test-flapi-project
project-description: Minimal test configuration

# Template configuration - empty
template:
  path: './sqls'

# Database connection configurations
connections:
  # A basic connection for testing
  data-types-parquet:
    properties:
      path: './data/customers.parquet'
    log-queries: false
    log-parameters: false
    allow: '*'

# DuckDB configuration - use in-memory database
duckdb:
  access_mode: READ_WRITE
  threads: 1
  max_memory: 256MB

# DuckLake configuration for testing
# Paths use environment variables for test isolation (set by conftest.py)
ducklake:
  enabled: true
  alias: cache
  metadata-path: {{env.FLAPI_TEST_DUCKLAKE_METADATA}}
  data-path: {{env.FLAPI_TEST_DUCKLAKE_DATA}}
  retention:
    keep-last-snapshots: 3
    max-snapshot-age: 1d
  compaction:
    enabled: false  # Disable for tests
  scheduler:
    enabled: false  # Disable for tests

# Whitelist environment variables for substitution in templates
environment-whitelist:
  - FLAPI_TEST_DUCKLAKE_METADATA
  - FLAPI_TEST_DUCKLAKE_DATA

# Enable MCP for comprehensive testing
mcp:
  enabled: true

