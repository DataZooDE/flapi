mcp-tool:
  name: get_customers
  description: Get customers by segment with enum validation
  result-mime-type: application/json

request:
  - field-name: segment
    field-in: query
    description: Customer segment
    required: false
    validators:
      - type: enum
        allowedValues: ["BUILDING", "AUTOMOBILE", "MACHINERY", "HOUSEHOLD", "FURNITURE"]
        preventSqlInjection: true

  - field-name: limit
    field-in: query
    description: Maximum number of records to return
    required: false
    validators:
      - type: int
        min: 1
        max: 1000
        preventSqlInjection: true

template-source: customers-get.sql
connection:
  - data-types-parquet

auth:
  enabled: true
  type: basic
  users:
    - username: admin
      password: secret
      roles: [admin, read, write]
