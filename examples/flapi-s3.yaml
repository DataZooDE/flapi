# Example flAPI configuration with S3 cloud storage
#
# Required environment variables:
#   AWS_ACCESS_KEY_ID=your-access-key
#   AWS_SECRET_ACCESS_KEY=your-secret-key
#   AWS_REGION=us-east-1
#
# Optional environment variables:
#   AWS_SESSION_TOKEN=... (for temporary credentials)
#   AWS_ENDPOINT_URL=http://localhost:9000 (for S3-compatible storage)
#
# Usage:
#   ./flapi -c s3://my-bucket/config/flapi.yaml
#   # OR use this file locally with S3 templates:
#   ./flapi -c examples/flapi-s3.yaml

project-name: flapi-s3-example
project-description: Example API with S3 cloud storage
version: 1.0.0

# SQL templates can be stored in S3
template:
  path: s3://my-bucket/api-templates/sqls

# Storage configuration
storage:
  cache:
    enabled: true
    ttl: 300           # 5 minutes
    max_size: 50MB
  credentials:
    s3:
      type: environment
      # region: us-east-1  # Optional override

# Data connections
connections:
  # S3-hosted data files
  s3-data:
    properties:
      path: s3://my-bucket/data/

  # Local data (can coexist with cloud)
  local-data:
    properties:
      path: ./data/

# DuckDB configuration
duckdb:
  db_path: ./flapi_cache.db
  threads: 4
  max_memory: 2GB

# Server settings
server:
  port: 8080
  host: 0.0.0.0
  log_level: info

# Environment variable whitelist
environment-whitelist:
  - AWS_ACCESS_KEY_ID
  - AWS_SECRET_ACCESS_KEY
  - AWS_REGION
  - AWS_SESSION_TOKEN
  - AWS_ENDPOINT_URL
